defaultTasks 'clean', 'build'

apply plugin: 'java'

group = 'org.suggs.gradle-sandbox'
version = '1.0'

task wrapper(type: Wrapper){
    description = "Generates gradlew scripts for NIX and win envs"
    gradleVersion = '1.10'
}

task release(dependsOn: 'distribution') << {
    println "Releasing"
}

task distribution << {
    println "Building the application with version=$version"
}

gradle.taskGraph.whenReady {taskGraph ->
    if(!taskGraph.hasTask(release)){
        version = version + "-SNAPSHOT"
    }
}

task showHowToAccessprojectProperties {
    println name
    println project.name
}


